<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlySphere - Your Roblox Airplay Experience</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script>
        // Run this immediately to set the theme before rendering
        (function() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const savedTheme = localStorage.getItem('theme');
            const initialTheme = savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light');
            document.documentElement.classList.add(initialTheme + '-mode');
        })();
    </script>
</head>
<body>
    <div id="preloader">
        <div class="propeller">
            <div class="blade"></div>
            <div class="blade"></div>
            <div class="blade"></div>
            <div class="blade"></div>
        </div>
    </div>

    <nav>
        <div class="logo">
            <h1>FlySphere</h1>
        </div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#updates">Updates</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#play">Play</a></li>
            <li><a href="#community">Community</a></li>
        </ul>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
            <i class="fas fa-sun"></i>
        </button>
    </nav>

    <header id="home">
        <video autoplay muted loop class="hero-video">
            <source src="flysphere-trailer.mp4" type="video/mp4">
        </video>
        <div class="hero">
            <h1>Welcome Aboard FlySphere</h1>
            <p>Experience the freedom of the skies in our Roblox Airplay Simulator</p>
            <a href="https://www.roblox.com/games/116183021304793/Dresden-Airport" target="_blank" class="cta-button">Take Off Now</a>
        </div>
    </header>

    <section id="about">
        <h2>About FlySphere</h2>
        <p>
            FlySphere brings the world of aviation to Roblox. Pilot modern aircraft, explore detailed airports, 
            and enjoy flight experiences as a passenger – all in a dynamic virtual world.
        </p>
        <p><a href="#play" class="small-cta">Start Your Adventure</a></p>
    </section>

    <section id="features">
        <h2>Our Highlights</h2>
        <div class="feature-grid">
            <div class="feature-item">
                <img src="plane-icon.png" alt="Aircraft">
                <h3>Pilot Experience</h3>
                <p>Fly realistic aircraft with intuitive controls.</p>
            </div>
            <div class="feature-item">
                <img src="airport-icon.png" alt="Airport">
                <h3>Airport Exploration</h3>
                <p>Discover terminals, gates, and more.</p>
            </div>
            <div class="feature-item">
                <img src="passenger-icon.png" alt="Passenger">
                <h3>Passenger Journeys</h3>
                <p>Check in and enjoy the flight.</p>
            </div>
            <div class="feature-item">
                <img src="badge-icon.png" alt="Badge">
                <h3>Earn Rewards</h3>
                <p>Unlock badges like 'Ace Pilot'!</p>
            </div>
        </div>
    </section>

    <section id="stats">
        <h2>FlySphere in Numbers</h2>
        <div class="stats-grid">
            <div class="stat-item">
                <h3>...+</h3>
                <p>Flights Launched</p>
            </div>
            <div class="stat-item">
                <h3>2</h3>
                <p>Airports to Explore</p>
            </div>
            <div class="stat-item">
                <h3>... +</h3>
                <p>Passengers Transported</p>
            </div>
        </div>
    </section>

    <section id="updates">
        <h2>Latest at FlySphere</h2>
        <div class="update-list">
            <div class="update-item">
                <h3>New: Bus operations</h3>
                <p><strong>Mar 11, 2025</strong> - Now available to transfer passengers from the terminal to the aircraft!</p>
            </div>
            <div class="update-item">
                <h3>Event: Inaugural Flight</h3>
                <p><strong>Apr 5, 2025, 4:00 PM CET</strong> - Join us for the first public flight!</p>
            </div>
            <div class="countdown">
                <h3>Inaugural Flight Countdown</h3>
                <div class="countdown-timer" id="countdown-timer">
                    <!-- Desktop View -->
                    <div class="desktop-countdown">
                        <div class="time-unit">
                            <span id="days">00</span>
                            <p>Days</p>
                        </div>
                        <div class="time-unit">
                            <span id="hours">00</span>
                            <p>Hours</p>
                        </div>
                        <div class="time-unit">
                            <span id="minutes">00</span>
                            <p>Minutes</p>
                        </div>
                        <div class="time-unit">
                            <span id="seconds">00</span>
                            <p>Seconds</p>
                        </div>
                    </div>
                    <!-- Mobile View -->
                    <div class="mobile-countdown">
                        <svg width="200" height="200" viewBox="0 0 200 200">
                            <circle cx="100" cy="100" r="90" fill="none" stroke="#FFD700" stroke-width="8" stroke-dasharray="565.48" stroke-dashoffset="0" transform="rotate(-90 100 100)" id="days-circle"/>
                            <circle cx="100" cy="100" r="70" fill="none" stroke="#FFD700" stroke-width="8" stroke-dasharray="439.82" stroke-dashoffset="0" transform="rotate(-90 100 100)" id="hours-circle"/>
                            <circle cx="100" cy="100" r="50" fill="none" stroke="#FFD700" stroke-width="8" stroke-dasharray="314.16" stroke-dashoffset="0" transform="rotate(-90 100 100)" id="minutes-circle"/>
                            <circle cx="100" cy="100" r="30" fill="none" stroke="#FFD700" stroke-width="8" stroke-dasharray="188.49" stroke-dashoffset="0" transform="rotate(-90 100 100)" id="seconds-circle"/>
                            <rect x="70" y="40" width="60" height="120" fill="#003087" rx="10" opacity="0.8"/>
                            <text id="mobile-days" x="100" y="70" text-anchor="middle" fill="white" font-size="20" font-weight="bold">00d</text>
                            <text id="mobile-hours" x="100" y="95" text-anchor="middle" fill="white" font-size="20" font-weight="bold">00h</text>
                            <text id="mobile-minutes" x="100" y="120" text-anchor="middle" fill="white" font-size="20" font-weight="bold">00m</text>
                            <text id="mobile-seconds" x="100" y="145" text-anchor="middle" fill="white" font-size="20" font-weight="bold">00s</text>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="fids">
                <h3>Flight Information</h3>
                <table id="fids-table">
                    <thead>
                        <tr>
                            <th>Flight</th>
                            <th>Destination</th>
                            <th>Status</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody id="fids-body"></tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="gallery">
        <h2>Flight Experiences in Pictures</h2>
        <div class="gallery-grid">
            <img src="screenshot1.jpg" alt="Aircraft in FlySphere">
            <img src="screenshot2.jpg" alt="Airport in FlySphere">
            <img src="screenshot3.jpg" alt="Passenger Area">
        </div>
    </section>

    <section id="testimonials">
        <h2>What Pilots Say</h2>
        <div class="testimonial-grid">
            <div class="testimonial-item">
                <p>"The best flight sim on Roblox!"</p>
                <h4>- SkyCaptain123</h4>
            </div>
            <div class="testimonial-item">
                <p>"Love the passenger experience!"</p>
                <h4>- FlyGirl89</h4>
            </div>
        </div>
    </section>

    <section id="play">
        <h2>Start with FlySphere Now</h2>
        <p>Book your spot in the skies and experience the adventure!</p>
        <a href="https://www.roblox.com/games/116183021304793/Dresden-Airport" target="_blank" class="cta-button">Launch Game</a>
    </section>

    <section id="community">
        <h2>Our Community</h2>
        <p>Join our crew and stay updated on news and events.</p>
        <a href="https://discord.com/invite/r5pSFMPS9n" target="_blank" class="community-button">Join Discord</a>
        <div class="leaderboard">
            <h3>Top Pilots</h3>
            <ul>
                <li>1. FlyMaster - 500 flights</li>
                <li>2. WingKing - 450 flights</li>
            </ul>
        </div>
    </section>

    <section id="contact">
        <h2>Contact Us</h2>
        <form action="https://formspree.io/f/your-form-id" method="POST">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="email" name="email" placeholder="Your Email" required>
            <textarea name="message" placeholder="Your Message" rows="4" required></textarea>
            <button type="submit" class="cta-button">Send</button>
        </form>
    </section>

    <footer>
        <p>© 2025 <a href="https://www.roblox.com/groups/34437147/FlySphere#!/about" target="_blank" class="footer-links">FlySphere</a> <a href="https://www.roblox.com/users/5428730337/profile" target="_blank" class="footer-links">[MrTacoGaming76]</a> | Your Virtual Airline on Roblox</p>
    </footer>

    <script>
        const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;
        const preloader = document.getElementById('preloader');
        const navLinks = document.querySelector('.nav-links');
        const hamburger = document.createElement('div');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        const daysCircle = document.getElementById('days-circle');
        const hoursCircle = document.getElementById('hours-circle');
        const minutesCircle = document.getElementById('minutes-circle');
        const secondsCircle = document.getElementById('seconds-circle');
        const mobileDays = document.getElementById('mobile-days');
        const mobileHours = document.getElementById('mobile-hours');
        const mobileMinutes = document.getElementById('mobile-minutes');
        const mobileSeconds = document.getElementById('mobile-seconds');
        const fidsBody = document.getElementById('fids-body');

        // Preloader fade-out
        window.addEventListener('load', () => {
            setTimeout(() => {
                preloader.style.opacity = '0';
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 500); // Fade-out duration
            }, 1000); // Show for 1 second
        });

        // Hamburger setup
        hamburger.classList.add('hamburger');
        hamburger.innerHTML = `
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        `;
        document.querySelector('nav').appendChild(hamburger);

        // Dark mode listener and manual toggle
        function updateTheme() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const savedTheme = localStorage.getItem('theme');
            if (!savedTheme) {
                document.documentElement.classList.toggle('dark-mode', prefersDark);
                document.documentElement.classList.toggle('light-mode', !prefersDark);
            }
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateTheme);
        toggleButton.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark-mode');
            document.documentElement.classList.toggle('light-mode');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark-mode') ? 'dark' : 'light');
        });

        // Hamburger toggle
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Countdown
        const eventDate = new Date('April 5, 2025 16:00:00 GMT+0100').getTime(); // CET is UTC+1
        const totalDays = Math.ceil((eventDate - new Date().getTime()) / (1000 * 60 * 60 * 24));
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = eventDate - now;

            if (distance < 0) {
                daysEl.textContent = '00';
                hoursEl.textContent = '00';
                minutesEl.textContent = '00';
                secondsEl.textContent = '00';
                mobileDays.textContent = '00d';
                mobileHours.textContent = '00h';
                mobileMinutes.textContent = '00m';
                mobileSeconds.textContent = '00s';
                daysCircle.style.strokeDashoffset = '565.48';
                hoursCircle.style.strokeDashoffset = '439.82';
                minutesCircle.style.strokeDashoffset = '314.16';
                secondsCircle.style.strokeDashoffset = '188.49';
                document.querySelector('.countdown h3').textContent = 'Flight Has Launched!';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            daysEl.textContent = String(days).padStart(2, '0');
            hoursEl.textContent = String(hours).padStart(2, '0');
            minutesEl.textContent = String(minutes).padStart(2, '0');
            secondsEl.textContent = String(seconds).padStart(2, '0');

            mobileDays.textContent = `${String(days).padStart(2, '0')}d`;
            mobileHours.textContent = `${String(hours).padStart(2, '0')}h`;
            mobileMinutes.textContent = `${String(minutes).padStart(2, '0')}m`;
            mobileSeconds.textContent = `${String(seconds).padStart(2, '0')}s`;

            const daysOffset = 565.48 * (1 - days / totalDays);
            const hoursOffset = 439.82 * (1 - hours / 24);
            const minutesOffset = 314.16 * (1 - minutes / 60);
            const secondsOffset = 188.49 * (1 - seconds / 60);
            daysCircle.style.strokeDashoffset = daysOffset;
            hoursCircle.style.strokeDashoffset = hoursOffset;
            minutesCircle.style.strokeDashoffset = minutesOffset;
            secondsCircle.style.strokeDashoffset = secondsOffset;
        }
        updateCountdown();
        setInterval(updateCountdown, 1000);

        // FIDS (Flight Information Display System)
        const flightData = [
            { flight: 'FS101', destination: 'Dresden', status: 'On Time', time: '14:30' },
            { flight: 'FS102', destination: 'Berlin', status: 'Delayed', time: '15:00' },
            { flight: 'FS103', destination: 'Munich', status: 'Boarding', time: '15:45' },
            { flight: 'FS104', destination: 'Hamburg', status: 'Departed', time: '13:15' },
            { flight: 'FS105', destination: 'Frankfurt', status: 'Arrived', time: '14:00' }
        ];

        function updateFIDS() {
            fidsBody.innerHTML = '';
            const shuffledFlights = flightData.slice().sort(() => Math.random() - 0.5);
            const currentTime = new Date();
            shuffledFlights.forEach((flight, index) => {
                const row = document.createElement('tr');
                row.classList.add('fade-in');
                row.innerHTML = `
                    <td>${flight.flight}</td>
                    <td>${flight.destination}</td>
                    <td class="${flight.status.toLowerCase().replace(' ', '-')}">${flight.status}</td>
                    <td>${flight.time}</td>
                `;
                fidsBody.appendChild(row);

                if (Math.random() > 0.8) {
                    flight.status = ['On Time', 'Delayed', 'Boarding', 'Departed', 'Arrived'][Math.floor(Math.random() * 5)];
                    flight.time = `${String(currentTime.getHours()).padStart(2, '0')}:${String(currentTime.getMinutes() + index * 15).padStart(2, '0')}`;
                }
            });
        }
        updateFIDS();
        setInterval(updateFIDS, 5000);

        // Contact form handling
        const contactForm = document.querySelector('#contact form');
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(contactForm);
            try {
                const response = await fetch(contactForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });
                if (response.ok) {
                    alert('Message sent successfully!');
                    contactForm.reset();
                } else {
                    throw new Error('Form submission failed');
                }
            } catch (error) {
                alert('Oops! Something went wrong. Please try again.');
                console.error(error);
            }
        });
    </script>
</body>
</html>